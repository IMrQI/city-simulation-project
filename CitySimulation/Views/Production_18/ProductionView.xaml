<UserControl x:Class="CitySimulation.Views.Production_18.ProductionView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Height="Auto" Width="Auto">

    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
        <Grid MinHeight="600" MinWidth="1000">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Заголовок с номером варианта -->
            <TextBlock Grid.Row="0" Text="🏭 Производственные цеха (Вариант 18)" 
                      FontSize="20" FontWeight="Bold" Margin="10" Background="LightGreen" Padding="10"/>

            <TabControl Grid.Row="1" Margin="10">
                <!-- Вкладка цехов -->
                <TabItem Header="Производственные цеха">
                    <Grid Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="10"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Список цехов -->
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="Список цехов:" FontWeight="Bold" Margin="0,0,0,10"/>
                            <ListBox ItemsSource="{Binding ProductionVM_18.Workshops}" 
                                     SelectedItem="{Binding ProductionVM_18.SelectedWorkshop}"
                                     Height="200" Margin="0,0,0,10">
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <StackPanel Margin="5">
                                            <TextBlock Text="{Binding Name}" FontWeight="Bold"/>
                                            <TextBlock Text="{Binding ProductionType, StringFormat='Продукция: {0}'}"/>
                                            <TextBlock Text="{Binding WorkerCapacity, StringFormat='Рабочих: {0}'}"/>
                                            <TextBlock Text="{Binding ProductionEfficiency, StringFormat='Эффективность: {0:P0}'}" FontSize="10"/>
                                        </StackPanel>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>

                            <Button Content="Запустить производство" 
                                    Command="{Binding ProductionVM_18.StartProductionCommand}"
                                    Background="Orange" Width="150" Height="30"/>
                        </StackPanel>

                        <!-- Форма добавления цеха -->
                        <StackPanel Grid.Column="2">
                            <TextBlock Text="Добавить новый цех:" FontWeight="Bold" Margin="0,0,0,10"/>

                            <StackPanel>
                                <TextBlock Text="Название цеха:" Margin="0,0,0,2"/>
                                <TextBox Text="{Binding ProductionVM_18.NewWorkshopName}" Height="25" Margin="0,0,0,10"/>

                                <TextBlock Text="Адрес:" Margin="0,0,0,2"/>
                                <TextBox Text="{Binding ProductionVM_18.NewWorkshopAddress}" Height="25" Margin="0,0,0,10"/>

                                <TextBlock Text="Тип продукции:" Margin="0,0,0,2"/>
                                <TextBox Text="{Binding ProductionVM_18.NewWorkshopProductionType}" Height="25" Margin="0,0,0,10"/>

                                <TextBlock Text="Вместимость рабочих:" Margin="0,0,0,2"/>
                                <TextBox Text="{Binding ProductionVM_18.NewWorkshopWorkerCapacity}" Height="25" Margin="0,0,0,10"/>

                                <Button Content="Добавить цех" 
                                        Command="{Binding ProductionVM_18.AddWorkshopCommand}"
                                        Width="120" Height="30"/>
                            </StackPanel>
                        </StackPanel>
                    </Grid>
                </TabItem>

                <!-- Вкладка производственных линий -->
                <TabItem Header="Производственные линии">
                    <Grid Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="10"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Список линий -->
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="Производственные линии:" FontWeight="Bold" Margin="0,0,0,10"/>
                            <ListBox ItemsSource="{Binding ProductionVM_18.ProductionLines}" 
                                     SelectedItem="{Binding ProductionVM_18.SelectedProductionLine}"
                                     Height="200" Margin="0,0,0,10">
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <StackPanel Margin="5">
                                            <TextBlock Text="{Binding Name}" FontWeight="Bold"/>
                                            <TextBlock Text="{Binding ProductType, StringFormat='Продукт: {0}'}"/>
                                            <TextBlock Text="{Binding UnitsPerHour, StringFormat='Производительность: {0}/час'}"/>
                                            <TextBlock Text="{Binding IsActive, StringFormat='Статус: {0}'}"/>
                                        </StackPanel>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>

                            <StackPanel Orientation="Horizontal">
                                <Button Content="Вкл/Выкл линию" 
                                        Command="{Binding ProductionVM_18.ToggleProductionLineCommand}"
                                        Width="120" Height="30" Margin="0,0,10,0"/>
                            </StackPanel>
                        </StackPanel>

                        <!-- Форма добавления линии -->
                        <StackPanel Grid.Column="2">
                            <TextBlock Text="Добавить новую линию:" FontWeight="Bold" Margin="0,0,0,10"/>

                            <StackPanel>
                                <TextBlock Text="Название линии:" Margin="0,0,0,2"/>
                                <TextBox Text="{Binding ProductionVM_18.NewProductionLineName}" Height="25" Margin="0,0,0,10"/>

                                <TextBlock Text="Тип продукции:" Margin="0,0,0,2"/>
                                <TextBox Text="{Binding ProductionVM_18.NewProductionLineProductType}" Height="25" Margin="0,0,0,10"/>

                                <TextBlock Text="Единиц в час:" Margin="0,0,0,2"/>
                                <TextBox Text="{Binding ProductionVM_18.NewProductionLineUnitsPerHour}" Height="25" Margin="0,0,0,10"/>

                                <Button Content="Добавить линию" 
                                        Command="{Binding ProductionVM_18.AddProductionLineCommand}"
                                        Width="120" Height="30"/>
                            </StackPanel>
                        </StackPanel>
                    </Grid>
                </TabItem>
            </TabControl>

            <!-- Статус бар -->
            <StatusBar Grid.Row="2" Background="LightGreen">
                <TextBlock Text="{Binding ProductionVM_18.StatusMessage}" FontWeight="Bold"/>
            </StatusBar>
        </Grid>
    </ScrollViewer>
</UserControl>